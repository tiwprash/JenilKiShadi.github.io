<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Data Filter</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body class="bg-light">
  <!-- <************************************************> -->
    <h1 class="bg-dark bg-gradient text-white p-2 rounded">Marriage data</h1>
    <div class="text-center bg-primary rounded text-white fw-bolder " id="filters">
        <label for="age">Age:</label>
        <select id="age">
            <option value="all">All</option>
        </select>
        <label for="gender">Gender:</label>
        <select id="gender">
            <option value="all">All</option>
        </select>
        <label for="location">Location:</label>
        <select id="location">
          <option value="all">All</option>
      </select>
    </div>
    <div id="user-data" >
        <table class="bg-secondary bg-gradient" style="--bs-bg-opacity: .5;">
            <thead >
                <tr class="bg-dark ">
                    <th>Name</th>
                    <th>Age</th>
                    <th>Gender</th>
                    <th>Location</th>
                </tr>
            </thead>
            <tbody  id="user-table"></tbody>
        </table>
    </div>

    <script>
        const userData = [
  {
    "Age": 30,
    "Gender": "male",
    "Name": "Emily",
    "Location": "mumbai"
  },
  {
    "Age": 32,
    "Gender": "female",
    "Name": "Noah",
    "Location": "Virar"
  },
  {
    "Age": 32,
    "Gender": "female",
    "Name": "Isabella",
    "Location": "Borivali"
  },
  {
    "Age": 34,
    "Gender": "male",
    "Name": "Aiden",
    "Location": "Gujrat"
  },
  {
    "Age": 34,
    "Gender": "female",
    "Name": "Olivia",
    "Location": "mumbai"
  },
  {
    "Age": 40,
    "Gender": "female",
    "Name": "Lucas",
    "Location": "Virar"
  },
  {
    "Age": 42,
    "Gender": "male",
    "Name": "Evelyn",
    "Location": "Borivali"
  },
  {
    "Age": 44,
    "Gender": "female",
    "Name": "Oliver",
    "Location": "Gujrat"
  },
  {
    "Age": 46,
    "Gender": "female",
    "Name": "Harper",
    "Location": "mumbai"
  },
  {
    "Age": 48,
    "Gender": "male",
    "Name": "Elijah",
    "Location": "Virar"
  }
]
; 

        const userTable = document.getElementById('user-table');
        const filters = {
            age: document.getElementById('age'),
            gender: document.getElementById('gender'),
            location: document.getElementById('location')
        };

        function populateUserTable(users) {
            userTable.innerHTML = ''; 

            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.Name}</td>
                    <td>${user.Age}</td>
                    <td>${user.Gender}</td>
                    <td>${user.Location}</td>
                `;
                userTable.appendChild(row);
            });
        }

        function createFilterOptions() {
            const uniqueAges = [...new Set(userData.map(user => user.Age))];
            const uniqueGenders = [...new Set(userData.map(user => user.Gender))];
            const uniqueLocation = [...new Set(userData.map(user => user.Location))];

            filters.age.innerHTML = '<option value="all">All</option>';
            uniqueAges.forEach(age => {
                filters.age.innerHTML += `<option value="${age}">${age}</option>`;
            });

            filters.gender.innerHTML = '<option value="all">All</option>';
            uniqueGenders.forEach(gender => {
                filters.gender.innerHTML += `<option value="${gender}">${gender}</option>`;
            });

            filters.location.innerHTML = '<option value="all">All</option>';
            uniqueLocation.forEach(location => {
                filters.location.innerHTML += `<option value="${location}">${location}</option>`;
            });
        }

        function applyFilters() {
            const filteredUsers = userData.filter(user => {
                return (filters.age.value === 'all' || user.Age == filters.age.value) && 
                       (filters.gender.value === 'all' || user.Gender == filters.gender.value)&&
                       (filters.location.value === 'all' || user.Location == filters.location.value); 
            });
            populateUserTable(filteredUsers);
        }

        // Event listeners to trigger filtering
        filters.age.addEventListener('change', applyFilters);
        filters.gender.addEventListener('change', applyFilters);
        filters.location.addEventListener('change', applyFilters);

        // Initial setup
        createFilterOptions();
        populateUserTable(userData); 
    </script>
</body>
</html>
